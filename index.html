<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Disculpa para mi princesa</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Quicksand:wght@400;700&display=swap" rel="stylesheet" />
<style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  html, body {
    height: 100%;
    font-family: 'Quicksand', sans-serif;
    overflow: hidden;
  }
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  /* Fondo inicial con imagen y linternas */
  #backgroundContainer {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url('../HTML/img/rapunzel.jpg');
    background-size: cover;
    background-position: center;
    z-index: 0;
  }
  #initialLanterns {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
  }

  /* Fondo para pantalla disculpa y final (rosado suave) */
  #note, #final {
    position: relative;
    z-index: 10;
    background-color: #f9c0d3; /* rosado suave */
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.3);
    max-width: 800px;
    max-height: 90vh;
    padding: 25px 40px;
    overflow-y: auto;
    color: #4a0033;
    display: none;
    text-align: center;
  }

  /* Pantalla inicial con fondo blanco semitransparente */
  #screen1 {
    position: relative;
    z-index: 10;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 5px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    max-width: 1200px;
    max-height: 100vh;
    padding: 50px;
    text-align: center;
  }

  /* Titulo inicial */
  #screen1 h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 3rem;
    color: #a052cc;
    margin-bottom: 15px;
  }
  #lantern-scene-text {
    font-family: 'Great Vibes', cursive;
    font-size: 1.4rem;
    color: #a052cc;
    margin-bottom: 25px;
  }

  /* Botones */
  .btn {
    background: #ffb6c1;
    color: white;
    padding: 15px 30px;
    font-size: 1.2rem;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    margin-top: 20px;
  }
  .btn:hover {
    background: #ff69b4;
    transform: scale(1.05);
  }

  /* Foto solo en inicial */
  .photo {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    object-fit: cover;
    border: 5px solid white;
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
    margin: 20px auto;
    display: block;
  }

  /* Texto disculpa */
  #note h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 2.8rem;
    margin-bottom: 25px;
    color: #7a004f;
  }
  #note p {
    font-size: 1.3rem;
    line-height: 1.8;
    margin-bottom: 25px;
    color: #6a0043;
  }

  /* Mensaje final */
  #final h2 {
    font-family: 'Great Vibes', cursive;
    font-size: 3rem;
    color: #d81e5b;
    animation: popUp 1.5s ease forwards;
    margin-bottom: 40px;
  }
  @keyframes popUp {
    0% { transform: scale(0.2); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  /* Corazones y linternas animadas final */
  .hearts, .lanterns {
    position: fixed;
    width: 100%;
    height: 100%;
    pointer-events: none;
    top: 0; left: 0;
    overflow: visible;
    z-index: 15;
  }
  .heart {
    width: 20px;
    height: 20px;
    background: pink;
    position: absolute;
    top: 100%;
    animation: floatUp 4s linear infinite;
    transform: rotate(45deg);
    box-shadow: -5px 5px 0 #ff69b4;
    border-radius: 4px;
  }
  @keyframes floatUp {
    0% { top: 100%; opacity: 1; }
    100% { top: -10%; opacity: 0; }
  }
  .lantern {
    position: absolute;
    width: 40px;
    height: 60px;
    background: radial-gradient(ellipse at center, #fff7b3 0%, #ffcf70 100%);
    border-radius: 20px 20px 10px 10px;
    opacity: 0.8;
    animation: floatLantern 10s linear infinite;
  }
  @keyframes floatLantern {
    0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
    10% { opacity: 1; }
    100% { transform: translateY(-100vh) scale(1.2); opacity: 0; }
  }
</style>
</head>
<body>

<!-- Fondo inicial con imagen -->
<div id="backgroundContainer"></div>

<!-- Linternas iniciales -->
<div id="initialLanterns"></div>

<!-- Audio m√°gico -->
<audio id="backgroundMusic" loop>
  <source src="../HTML/img/Tu_Jard√≠n.mp3" type="audio/mpeg" />
  Tu navegador no soporta audio.
</audio>

<!-- Pantalla inicial -->
<div id="screen1">
  <h1>Hola mi princesa...</h1>
  <div id="lantern-scene-text">Como en la escena de las linternas... as√≠ te pido perd√≥n</div>
  <img src="../HTML/img/rapunzel2.jpg" alt="Foto de nosotros" class="photo" />
  <button class="btn" onclick="showNoteAndPlay()">Ver mensaje</button>
</div>

<!-- Nota disculpa -->
<div id="note">
  <h1>Una disculpa mi ni√±a</h1>
  <p>
    S√© que he cometido errores, muchos de ellos innecesarios, y que te he hecho sentir mal cuando solo mereces amor y cuidado.<br />
    Me duele  saber que te fall√©, y que puse triste a ese corazon tan bello que tienes mi ni√±a.
  </p>
  <p>
    Me arrepiento de cada palabra mal dicha, de cada momento que no te valor√© como mereces.<br />
    T√∫ eres mi luz, mi Rapunzel, la que ilumina incluso mis d√≠as m√°s oscuros.
  </p>
  <p>
    Quiero aprender, crecer, mejorar y demostrarte que s√≠ puedo ser el hombre que necesitas.<br />
    Por favor... ¬øme perdonas?
  </p>
  <button class="btn" onclick="showLove()">Presiona si me disculpas</button>
</div>

<!-- Mensaje final -->
<div id="final">
  <h2>¬°Te amo mucho mi ni√±a! üíñ</h2>
  <div class="hearts" id="hearts"></div>
  <div class="lanterns" id="lanterns"></div>
</div>

<script>
  // Crear linternas iniciales de fondo
  function createInitialLanterns() {
    const container = document.getElementById('initialLanterns');
    for (let i = 0; i < 15; i++) {
      const lantern = document.createElement('div');
      lantern.classList.add('lantern');
      lantern.style.left = Math.random() * 100 + 'vw';
      lantern.style.animationDuration = 25 + Math.random() * 20 + 's';
      lantern.style.animationDelay = Math.random() * 25 + 's';
      container.appendChild(lantern);
    }
  }
  createInitialLanterns();

  function showNoteAndPlay() {
    // Ocultar pantalla inicial e imagen de fondo + linternas iniciales
    document.getElementById('screen1').style.display = 'none';
    document.getElementById('backgroundContainer').style.display = 'none';
    document.getElementById('initialLanterns').style.display = 'none';

    // Mostrar nota
    const note = document.getElementById('note');
    note.style.display = 'block';
    note.scrollTop = 0;

    // Reproducir audio
    const music = document.getElementById('backgroundMusic');
    music.volume = 0.5;
    music.play().catch(e => {
      console.log('Audio no se reprodujo autom√°ticamente:', e);
    });
  }

  function showLove() {
    // Ocultar nota
    document.getElementById('note').style.display = 'none';

    // Mostrar mensaje final
    const final = document.getElementById('final');
    final.style.display = 'block';

    // Lanzar corazones y linternas animadas
    launchHearts();
    launchLanterns();
  }

  // Crear corazones animados
  function launchHearts() {
    const container = document.getElementById('hearts');
    container.innerHTML = '';
    for(let i = 0; i < 30; i++) {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (4 + Math.random() * 3) + 's';
      heart.style.animationDelay = (Math.random() * 5) + 's';
      container.appendChild(heart);
    }
  }

  // Crear linternas animadas finales
  function launchLanterns() {
    const container = document.getElementById('lanterns');
    container.innerHTML = '';
    for(let i = 0; i < 30; i++) {
      const lantern = document.createElement('div');
      lantern.classList.add('lantern');
      lantern.style.left = Math.random() * 100 + 'vw';
      lantern.style.animationDuration = (10 + Math.random() * 10) + 's';
      lantern.style.animationDelay = (Math.random() * 10) + 's';
      container.appendChild(lantern);
    }
  }
</script>

</body>
</html>
